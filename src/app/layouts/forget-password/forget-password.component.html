<div class="container">
    <mat-card>
      <ng-container *ngIf="!tokenSent else isResetPassword">
  
        <mat-card-title>Forget Password</mat-card-title>
        <mat-card-content>
          <form [formGroup]="forgotPasswordForm">
            <mat-form-field appearance="fill">
              <input matInput formControlName="email" placeholder="Email" required>
            </mat-form-field>
  
            <mat-error *ngIf="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
              Please enter a valid email.
            </mat-error>
            <button mat-raised-button class="primary-button" type="submit" [disabled]="forgotPasswordForm.invalid"
                    (click)="onSubmit()">
                    Confirm
            </button>
          </form>
        </mat-card-content>
      </ng-container>
      <ng-template #isResetPassword>
  
        <mat-card-subtitle> A new password will be sent to your email address.</mat-card-subtitle>
  
  
        <mat-card-content>
          <form [formGroup]="resetPasswordForm">
            <mat-form-field appearance="fill">
              <input matInput formControlName="token" placeholder="CODE" required>
            </mat-form-field>
  
            <mat-error *ngIf="resetPasswordForm.get('token')?.invalid && resetPasswordForm.get('token')?.touched">
              Please enter a valid token.
            </mat-error>
            <mat-form-field appearance="fill">
              <input matInput formControlName="password" type="password" placeholder="Password" required>
            </mat-form-field>
  
            <mat-error *ngIf="resetPasswordForm.get('password')?.invalid && resetPasswordForm.get('password')?.touched">
              Please enter a valid password.
            </mat-error>
            <button mat-raised-button class="primary-button" type="submit" [disabled]="resetPasswordForm.invalid"
                    (click)="resetPassword()">
              Confirme
            </button>
          </form>
        </mat-card-content>
      </ng-template>
    </mat-card>
  </div>
